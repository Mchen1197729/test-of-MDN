<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>删除链表的倒数第N个节点</title>
</head>
<body>
<script>
  /*
  * 给你一个链表，删除链表的倒数第 n 个结点，并且返回链表的头结点
  *
  * 输入：head = [1,2,3,4,5], n = 2
  * 输出：[1,2,3,5]
  *
  * 输入：head = [1], n = 1
  * 输出：[]
  *
  * 输入：head = [1,2], n = 1
  * 输出：[1]
  * */
  /**
   * Definition for singly-linked list.
   * function ListNode(val, next) {
   *     this.val = (val===undefined ? 0 : val)
   *     this.next = (next===undefined ? null : next)
   * }
   */
  /**
   * @param {ListNode} head
   * @param {number} n
   * @return {ListNode}
   */
  function ListNode(val, next) {
    this.val = (val === undefined ? 0 : val)
    this.next = (next === undefined ? null : next)
  }

  let head = {
    val: 1,
    next: {
      val: 2,
      next: {
        val: 3,
        next: {
          val: 4,
          next: {
            val: 5,
            next: null
          }
        }
      }
    }
  }

  const removeNthFromEnd = function (head, n) {
    // 使用双指针 两个指针之间相差n的距离 这样前一个指针到达末尾的时候 后一个指针刚好达到倒数第n的位置
    // 使用dummy node让其next属性指向head节点 最后就把这个dummy node返回出去即可
    let dummy = new ListNode(null, head)

    let first = dummy, second = dummy
    for (let i = 0; i < n; i++) {
      first = first.next
    }
    while (first && first.next) {
      first = first.next
      second = second.next
    }
    // 此时second的下标是倒数第n+1个
    // 直接改second.next的值
    second.next = second.next.next
    return dummy.next
  }

  // Test
  console.log(removeNthFromEnd(head, 2))
</script>
</body>
</html>
