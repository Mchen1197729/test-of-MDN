<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>合并两个有序链表</title>
</head>
<body>
<script>
  /*
  * 将两个升序链表合并为一个新的 升序 链表并返回。新链表是通过拼接给定的两个链表的所有节点组成的。
  *
  * 输入：l1 = [1,2,4], l2 = [1,3,4]
  * 输出：[1,1,2,3,4,4]
  *
  * 输入：l1 = [], l2 = []
  * 输出：[]
  *
  * 输入：l1 = [], l2 = [0]
  * 输出：[0]
  *
  * 两个链表的节点数目范围是 [0, 50]
  * -100 <= Node.val <= 100
  * l1 和 l2 均按 `非递减顺序` 排列
  * */
  /**
   * Definition for singly-linked list.
   * function ListNode(val, next) {
   *     this.val = (val===undefined ? 0 : val)
   *     this.next = (next===undefined ? null : next)
   * }
   */
  /**
   * @param {ListNode} l1
   * @param {ListNode} l2
   * @return {ListNode}
   */
  function ListNode(val, next) {
    this.val = (val === undefined ? 0 : val)
    this.next = (next === undefined ? null : next)
  }

  // 使用递归
  const mergeTwoLists = function (l1, l2) {
    if (!l1) return l2
    if (!l2) return l1
    /*
    * 如果l1.val<l2.val 则l1.next = mergeTwoLists(l1.next,l2) return l1
    * 如果l1.val>l1.val 则l2.next = mergeTwoLists(l2.next,l1) return l2
    * */
    if (l1.val < l2.val) {
      l1.next = mergeTwoLists(l1.next, l2)
      return l1
    } else {
      l2.next = mergeTwoLists(l2.next, l1)
      return l2
    }
  }

  // 使用循环
  const mergeTwoLists1 = function (l1, l2) {
    let dummy = new ListNode(null)
    let curr = dummy
    while (l1 || l2) {
      if (l1 && !l2) {
        curr.next = new ListNode(l1.val)
        l1 = l1.next
      } else if (l2 && !l1) {
        curr.next = new ListNode(l2.val)
        l2 = l2.next
      } else if (l1.val <= l2.val) {
        curr.next = new ListNode(l1.val)
        l1 = l1.next
      } else {
        curr.next = new ListNode(l2.val)
        l2 = l2.next
      }
      curr = curr.next
    }
    return dummy.next
  }

  const mergeTwoLists2 = function (l1, l2) {
    let dummy = new ListNode(null)
    let curr = dummy
    while (l1 && l2) {
      if (l1.val <= l2.val) {
        curr.next = new ListNode(l1.val)
        l1 = l1.next
      } else {
        curr.next = new ListNode(l2.val)
        l2 = l2.next
      }
      curr = curr.next
    }
    while (l1) {
      curr.next = new ListNode(l1.val)
      l1 = l1.next
      curr = curr.next
    }
    while (l2) {
      curr.next = new ListNode(l2.val)
      l2 = l2.next
      curr = curr.next
    }
    return dummy.next
  }

  // Test
  let l1 = {
    val: 1,
    next: {
      val: 3,
      next: {
        val: 5,
        next: null
      }
    }
  }
  let l2 = {
    val: 2,
    next: {
      val: 4,
      next: {
        val: 6,
        next: null
      }
    }
  }
  // console.log(mergeTwoLists(l1, l2))
  // console.log(mergeTwoLists(new ListNode(11, null), new ListNode(2, null)))
  console.log('*************************')
  console.log(mergeTwoLists1(l1, l2))
  console.log(mergeTwoLists1(new ListNode(11, null), new ListNode(2, null)))
  console.log(mergeTwoLists1(
      new ListNode(-9, new ListNode(3)),
      new ListNode(5, new ListNode(7)))
  )
</script>
</body>
</html>
