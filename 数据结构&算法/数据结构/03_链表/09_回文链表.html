<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>回文链表</title>
</head>
<body>
<script>
  /*
  * 输入: 1->2
  * 输出: false
  *
  * 输入: 1->2->2->1
  * 输出: true
  *
  * 你能否用 O(n) 时间复杂度和 O(1) 空间复杂度解决此题？
  * */
  /**
   * Definition for singly-linked list.
   * function ListNode(val, next) {
   *     this.val = (val===undefined ? 0 : val)
   *     this.next = (next===undefined ? null : next)
   * }
   */
  function ListNode(val, next) {
    this.val = (val === undefined ? 0 : val)
    this.next = (next === undefined ? null : next)
  }

  /**
   * @param {ListNode} head
   * @return {boolean}
   */
  const isPalindrome = function (head) {
    let arr = []
    while (head) {
      arr.push(head.val)
      head = head.next
    }
    let length = arr.length
    for (let i = 0, j = length - 1; i < j; i++, j--) {
      if (arr[i] !== arr[j]) {
        return false
      }
    }
    return true
  }
  // Test
  console.log(isPalindrome(new ListNode(1, new ListNode(2))))
  console.log(isPalindrome(new ListNode(1, new ListNode(2, new ListNode(2, new ListNode(1))))))
  console.log('-----------------------------------------')

  // 使用递归正向遍历链表
  function show_list(list) {
    if (list) {
      console.log(list.val)
      show_list(list.next)
    }
  }

  // 使用递归反向遍历链表
  function show_list_in_reverse(list) {
    if (list) {
      show_list_in_reverse(list.next)
      console.log(list.val)
    }
  }

  show_list(new ListNode(1, new ListNode(2, new ListNode(2, new ListNode(1, new ListNode(0))))))
  console.log('----------------------')
  show_list_in_reverse(new ListNode(1, new ListNode(2, new ListNode(2, new ListNode(1, new ListNode(0))))))
</script>
</body>
</html>
