<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
<script src="download.js"></script>
<script src="city_data.js"></script>
<script>
  for (let i = 0; i < cityData.length; i++) {
    cityData[i].value = cityData[i].label
    delete cityData[i].id
    if (cityData[i].children && cityData[i].children.length) {
      for (let j = 0; j < cityData[i].children.length; j++) {
        cityData[i].children[j].value = cityData[i].children[j].label
        delete cityData[i].children[j].id
        if (cityData[i].children[j].children && cityData[i].children[j].children.length) {
          for (let k = 0; k < cityData[i].children[j].children.length; k++) {
            delete cityData[i].children[j].children[k].id
            cityData[i].children[j].children[k].value = cityData[i].children[j].children[k].label
          }
        }
      }
    }
  }
  console.log(cityData);
  download(JSON.stringify(cityData), 'data.json', 'application/json')
</script>
</body>
</html>
