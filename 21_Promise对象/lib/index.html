<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
<script src="./Promise.js"></script>
<script>
  /*const p1 = new Promise((resolve, reject) => {
    setTimeout(() => {
      reject(99)
    }, 1000)
  });

  p1.then(value => {
    console.log('成功1,', value);
  }, reason => {
    console.log('失败1,', reason);
    return Promise.reject(1000)
  }).then(value => {
    console.log('成功2,', value);
  }, reason => {
    console.log('失败2,', reason);
  })*/
  const p1 = Promise.reject(1);
  // const p2 = Promise.reject(2);
  const p2 = new Promise(resolve => {
    setTimeout(() => {
      resolve(2)
    }, 1000)
  });
  const p3 = Promise.resolve(Promise.resolve(3));
  const p4 = Promise.resolve(Promise.resolve(4));
  /*p1.then(
      value => {
        console.log('resolve1', value);
      },
      reason => {
        console.log('reject1', reason);
      }
  );
  p2.then(
      value => {
        console.log('resolve2', value);
      },
      reason => {
        console.log('reject2', reason);
      }
  );
  p3.then(
      value => {
        console.log('resolve3', value);
      },
      reason => {
        console.log('reject3', reason);
      }
  );
  p4.then(
      value => {
        console.log('resolve4', value);
      },
      reason => {
        console.log('reject4', reason);
      }
  )*/
  //测试Promise.all()方法
  /*Promise.all([p1, p2, p3, p4])
      .then(
          values => {
            console.log('resolve', values);
          },
          reason => {
            console.log('reject', reason);
          }
      )*/

  //测试Promise.race()方法
  Promise.race([p1, p2, p3, p4])
      .then(
          values => {
            console.log('resolve', values);
          },
          reason => {
            console.log('reject', reason);
          }
      )
</script>
</body>
</html>
