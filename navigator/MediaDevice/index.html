<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<video src=""></video>
<script>
  // navigator.mediaDevices.getUserMedia({
  //   audio: true,
  //   video: {width: 1280, height: 720}
  // })
  //     .then(function (stream) {
  //       /* 使用这个stream stream */
  //     })
  //     .catch(function (err) {
  //       /* 处理error */
  //     });

  // 想要获取一个最接近 1280x720 的相机分辨率
  const constraints = {audio: true, video: {width: 720, height: 360}};

  navigator.mediaDevices.getUserMedia(constraints)
      .then(function (mediaStream) {
        const video = document.querySelector('video');
        video.srcObject = mediaStream;
        video.onloadedmetadata = function (e) {
          video.play();
        };
      })
      // 总是在最后检查错误
      .catch(function (err) {
        console.log(err.name + ": " + err.message);
      });
</script>
</body>
</html>