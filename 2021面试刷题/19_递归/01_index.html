<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>递归</title>
</head>
<body>
<script>
  /*
  * 实现函数pow(x,n) 即x的n次幂
  * n可以为正数也可以为负数
  * */

  // 实现方式一:循环实现
  function pow1(x, n) {
    let res = 1
    // 判断n是正数还是负数
    if (n < 0) {
      n = -n
      x = 1 / x
    }
    for (let i = 1; i <= n; i++) {
      res *= x
    }
    return res
  }

  // 实现方式二:f(x,n) = f(x,n-1)*x
  function pow2(x, n) {
    // 判断n的正负情况
    if (n < 0) {
      n = -n
      x = 1 / x
    }
    if (n === 1) {
      return x
    } else {
      return x * pow2(x, n - 1)
    }
  }

  // 实现方式三:f(x,n) = f(x,n/2)*f(x,n/2)
  function pow3(x, n) {
    if (n < 0) {
      x = 1 / x
      n = -n
    }
    if (n % 2 === 1) {
      return x * pow3(x, n - 1)
    } else if (n === 0) {
      return 1
    } else {
      return pow3(x, n / 2) * pow3(x, n / 2)
    }
  }

  // 测试代码
  console.log(pow1(2, 10))
  console.log(pow1(2, -10))

  console.log(pow2(2, 10))
  console.log(pow2(2, -10))

  console.log(pow3(2, 10))
  console.log(pow3(2, -10))

</script>
</body>
</html>
